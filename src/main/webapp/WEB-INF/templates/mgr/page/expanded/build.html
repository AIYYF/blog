<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
<link rel="stylesheet"
	th:href="@{/static/bootstrap-timepicker/css/bootstrap-datetimepicker.min.css}" />
<link th:href="@{/static/bootstrap/css/bootstrap.min.css}"
	rel="stylesheet">
<link rel="stylesheet"
	th:href="@{/static/jquery-file-upload/css/jquery.fileupload.css}">
<link rel="stylesheet"
	th:href="@{/static/font-awesome/css/font-awesome.min.css}">
<link rel="stylesheet" th:href="@{/static/css/sb-admin.css}">
<link rel="stylesheet"
	th:href="@{/static/editor/markdown/css/editormd.css}" />
<!--[if lt IE 9]>
  <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<style type="text/css">
.table-borderless tbody tr td, .table-borderless tbody tr th,
	.table-borderless thead tr th {
	border: none;
}

.cm-tab {
	background: none !important;
}
</style>
<title>拓展页面模板编辑</title>
</head>
<body>
	<div id="wrapper">
		<nav th:replace="mgr/base/nav :: active('tpl')"></nav>
		<div id="page-wrapper">
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-12">
						<div id="editor">
							<textarea style="display: none;" th:text="${page.tpl}"></textarea>
						</div>
					</div>
				</div>
				<div class="row">
					<div style="margin-top: 10px">
						<div class="col-md-2">
							<label>页面名称(1~20个字符)：</label>
						</div>
						<div class="col-md-10">
							<input type="text" class="form-control" th:value="${page.name}"
								id="name"> <input type="text" style="display: none">
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12 "
						style="margin-top: 10px; text-align: center">
						<form style="display: none" id="tplForm">
							<input type="hidden" th:value="${page.id}" id="pageId">
						</form>
						<button class="btn btn-primary" type="button" data-toggle="modal"
							data-target="#widgetsModal">挂件</button>
						<button class="btn btn-primary" type="button" onclick="preview()">预览</button>
						<button class="btn btn-primary" type="button" onclick="save()">提交</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div th:replace="base/foot_source"></div>
	<div class="modal " id="widgetsModal" tabindex="-1" role="dialog"
		aria-labelledby="widgetsLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="widgetsModalLabel">挂件</h4>
				</div>
				<div class="modal-body">
					<div class="tip"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal " id="widgetTplEditModal" tabindex="-1" role="dialog"
		aria-labelledby="widgetTplEdiModalLabel">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="widgetTplEdiModalLabel"></h4>
				</div>
				<div class="modal-body">
					<div class="tip"></div>
					<div id="widgetTplEditor">
						<textarea style="display: none"></textarea>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" id="tpl-save-btn">保存</button>
				</div>
			</div>
		</div>
	</div>
	<script th:src="@{/static/editor/markdown/editormd.min.js}"></script>
	<script type="text/javascript"
		th:src="@{/static/js/mgr/tplbuild_expanded.js}"></script>
</body>
</html>
